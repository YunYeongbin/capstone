{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/.ssh/capstone_project/frontend/src/components/home/SearchFacility.js\",\n  _s = $RefreshSig$();\n// modal\n\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport Modal from 'react-bootstrap/Modal';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { changeState } from \"../../store.js\";\nimport styles from \"../../styles/SearchFacility.module.css\";\n\n// 이게 있어야 modal로 뜸\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../../styles/Paging.css';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMagnifyingGlass } from \"@fortawesome/free-solid-svg-icons\";\nimport { silverDataAtom } from \"../../recoil/silverDataAtom.js\";\nimport { useRecoilState } from \"recoil\";\nimport Pagination from \"react-js-pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FindFacility() {\n  _s();\n  const limit = 3;\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const offset = (page - 1) * limit;\n  const [silverData, serSilverData] = useRecoilState(silverDataAtom);\n  const searched = silverData.filter(item => item.name.includes(search));\n  const onChange = event => {\n    setSearch(event.target.value); // 입력값을 전부 소문자로 생각\n    setPage(1);\n  };\n  let dispatch = useDispatch();\n  const onSubmit = e => {\n    e.preventDefault();\n  };\n  const handleClose = e => {\n    dispatch(changeState());\n  };\n  const handlePageChange = page => {\n    setPage(page);\n  };\n  let showModal = useSelector(state => {\n    return state.showModal.isOpen;\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: handleClose\n      // modal size조절\n      ,\n      size: \"lg\",\n      className: styles.modal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"example-custom-modal-styling-title\",\n          children: \"\\uC2DC\\uC124\\uAC80\\uC0C9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: styles.modal__body,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.search__box,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: styles.search__input,\n              type: \"text\",\n              value: search,\n              onChange: onChange,\n              placeholder: \"\\uC2DC\\uC124\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"search-btn\",\n              type: \"submit\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faMagnifyingGlass\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.search__content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.search__result,\n          children:\n          // search라는 state에 무언가 입력되지 않으면 아무것도 보이지 않음. 무언가 입력이 되었다면 그때 병원을 찾아서 사용자에게 보여줌.\n          search ?\n          // 해당 결과가 여러개일 경우, 상단에 존재하는 3개의 결과물만 보여주도록 함.\n          searched.slice(offset, offset + limit).map((item, index) => {\n            if (index < 3) {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [\"\\uC2DC\\uC124 \\uC774\\uB984 : \", item.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 53\n                    }, this), \"\\uC8FC\\uC18C : \", item.location, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 53\n                    }, this), \"\\uC804\\uD654\\uBC88\\uD638 : \", item.phonenumber, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 53\n                    }, this), \"\\uC9C4\\uB8CC\\uACFC\\uBAA9 : \", item.category, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/detail/${item.id}`,\n                      state: {\n                        item: item\n                      },\n                      children: \"\\uC790\\uC138\\uD788\\uBCF4\\uAE30...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false);\n            }\n          }) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), search && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.search__footer,\n          children: /*#__PURE__*/_jsxDEV(Pagination, {\n            activePage: page,\n            itemsCountPerPage: 3,\n            totalItemsCount: searched.length,\n            pageRangeDisplayed: 5,\n            prevPageText: \"‹\",\n            nextPageText: \"›\",\n            onChange: handlePageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(FindFacility, \"1bBP9nJ4O5Pp3TVe0HEjod6mZdg=\", false, function () {\n  return [useRecoilState, useDispatch, useSelector];\n});\n_c = FindFacility;\nexport default FindFacility;\nvar _c;\n$RefreshReg$(_c, \"FindFacility\");","map":{"version":3,"names":["axios","Link","useEffect","useState","Modal","useDispatch","useSelector","changeState","styles","FontAwesomeIcon","faMagnifyingGlass","silverDataAtom","useRecoilState","Pagination","jsxDEV","_jsxDEV","Fragment","_Fragment","FindFacility","_s","limit","search","setSearch","page","setPage","offset","silverData","serSilverData","searched","filter","item","name","includes","onChange","event","target","value","dispatch","onSubmit","e","preventDefault","handleClose","handlePageChange","showModal","state","isOpen","children","show","onHide","size","className","modal","Header","closeButton","Title","id","fileName","_jsxFileName","lineNumber","columnNumber","Body","modal__body","search__box","search__input","type","placeholder","icon","search__content","search__result","slice","map","index","location","phonenumber","category","to","search__footer","activePage","itemsCountPerPage","totalItemsCount","length","pageRangeDisplayed","prevPageText","nextPageText","_c","$RefreshReg$"],"sources":["/home/ubuntu/.ssh/capstone_project/frontend/src/components/home/SearchFacility.js"],"sourcesContent":["// modal\n\nimport axios from \"axios\";\n\nimport { Link } from \"react-router-dom\";\n\nimport {useEffect, useState} from \"react\";\nimport Modal from 'react-bootstrap/Modal';\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { changeState } from \"../../store.js\"; \n\nimport styles from \"../../styles/SearchFacility.module.css\";\n\n// 이게 있어야 modal로 뜸\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../../styles/Paging.css';\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMagnifyingGlass } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { silverDataAtom } from \"../../recoil/silverDataAtom.js\";\nimport { useRecoilState } from \"recoil\";\nimport Pagination from \"react-js-pagination\";\n\n\nfunction FindFacility() {\n    const limit = 3;\n    const [search, setSearch] = useState(\"\");\n    const [page, setPage] = useState(1);\n    const offset = (page - 1) * limit;\n\n    const [silverData, serSilverData] = useRecoilState(silverDataAtom);\n\n    const searched = silverData.filter((item)=>\n        item.name.includes(search)\n    );\n\n    const onChange = (event) => {\n        setSearch(event.target.value); // 입력값을 전부 소문자로 생각\n        setPage(1);\n    }\n\n    let dispatch = useDispatch();\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n    }\n\n    const handleClose = (e) => {\n        dispatch(changeState());\n    }\n\n    const handlePageChange = (page) => {\n        setPage(page);\n    };\n\n    let showModal= useSelector((state)=> {return state.showModal.isOpen});\n\n    return (\n        <>\n        <Modal\n            show={showModal} \n            onHide={handleClose}\n            // modal size조절\n            size=\"lg\"\n            className={styles.modal}\n        >\n            \n                <Modal.Header closeButton>\n                <Modal.Title id=\"example-custom-modal-styling-title\">\n                    시설검색\n                </Modal.Title>\n                </Modal.Header>\n                <Modal.Body className={styles.modal__body}>\n                <form onSubmit={onSubmit}>\n                    <div className={styles.search__box}>\n                        <input\n                            className={styles.search__input} \n                            type=\"text\" \n                            value={search}\n                            onChange={onChange}\n                            placeholder=\"시설이름을 입력하세요...\"\n                        />\n                        <button className=\"search-btn\" type=\"submit\">\n                            <FontAwesomeIcon icon={faMagnifyingGlass}/>\n                        </button>\n                    </div>\n                </form>\n                </Modal.Body>\n                <div className = {styles.search__content}>\n                    <div className = {styles.search__result}>\n                        {\n                            // search라는 state에 무언가 입력되지 않으면 아무것도 보이지 않음. 무언가 입력이 되었다면 그때 병원을 찾아서 사용자에게 보여줌.\n                            search ? (\n                            // 해당 결과가 여러개일 경우, 상단에 존재하는 3개의 결과물만 보여주도록 함.\n                            searched.slice(offset, offset + limit).map((item, index)=>{\n                                if(index < 3) {\n                                    return (\n                                        <>\n                                            <ul>\n                                                <li>\n                                                    시설 이름 : {item.name}\n                                                    <br/>\n                                                    주소 : {item.location}\n                                                    <br/>\n                                                    전화번호 : {item.phonenumber}\n                                                    <br/>\n                                                    진료과목 : {item.category}\n                                                    <br/>\n                                                    <Link to={`/detail/${item.id}`}\n                                                    state={{item : item}}>자세히보기...</Link>\n                                                </li>\n                                            </ul>\n                                        </>\n                                    )\n                                }\n                            })\n                            ) :\n                            null\n                        }\n                    </div>\n                    {\n                        search && <div className = {styles.search__footer}>\n                            <Pagination\n                                activePage={page}\n                                itemsCountPerPage={3}\n                                totalItemsCount={searched.length}\n                                pageRangeDisplayed={5}\n                                prevPageText={\"‹\"}\n                                nextPageText={\"›\"}\n                                onChange={handlePageChange}\n                            />\n                        </div>\n                    }\n                </div>\n\n            \n        </Modal>\n        </>\n    );\n}\n\nexport default FindFacility;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}